"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function init(){var e=require("../../lib/react.js"),t=require("../../lib/react-dom.js"),i=require("./webviewheader.js"),o=require("./webviewbody.js"),s=require("./webviewfooter.js"),r=require("./webviewloading.js"),h=require("./webviewshare.js"),w=require("./webviewAuthorizeDialog.js"),a=require("../../stroes/webviewStores.js"),n=e.createClass({displayName:"Webview",getInitialState:function(){return{showFooter:!1,showShare:!1,showAuthorizeDialog:!1,shareOpt:{},webviewID:parseInt(this.props.webviewID)}},goBack:function(e){var i=this.state.webviewID,o=t.findDOMNode(this.refs.container).querySelector(".webviewbody"+i);this.props.goBack(i,o,e)},showFooter:function p(e){var p=void 0===e?!this.state.showFooter:e;this.setState({showFooter:p})},showAuthorizeDialog:function(e){this.setState({showAuthorizeDialog:void 0===e?!this.state.showAuthorizeDialog:e})},showShare:function(e){this.setState({showShare:e})},_showShareWebview:function(e,t,i){this.setState({showShare:!0,showFooter:!1,shareOpt:{title:i.title,desc:i.desc||i.title,imgUrl:i.img_url,sdkName:t.sdkName}})},componentDidMount:function(){a.on("SHOW_SHARE_WEBVIEW_"+this.state.webviewID,this._showShareWebview)},componentWillUnmount:function(){a.removeListener("SHOW_SHARE_WEBVIEW_"+this.state.webviewID,this._showShareWebview)},render:function(){var t,a=this.props.offset,n={width:a.width},p={width:a.width,height:a.height};return e.createElement("div",{ref:"container",className:"simulator",style:n},e.createElement(i,(t={offset:a,webviewID:this.props.webviewID,goBack:this.goBack,hideBack:this.props.hideBack,showFooter:this.showFooter},_defineProperty(t,"webviewID",this.props.webviewID),_defineProperty(t,"project",this.props.project),t)),e.createElement("div",{className:"simulator-bd",style:p},e.createElement(r,{webviewID:this.props.webviewID}),e.createElement(h,{show:this.state.showShare,showShare:this.showShare,webviewID:this.props.webviewID,showFooter:this.showFooter,shareOpt:this.state.shareOpt,getSimulatorActions:this.props.getSimulatorActions}),e.createElement(o,{offset:a,goBack:this.goBack,href:this.props.href,webviewID:this.props.webviewID,addAsWebview:this.props.addAsWebview,project:this.props.project,getSimulatorActions:this.props.getSimulatorActions,postAppRoute:this.props.postAppRoute}),e.createElement(s,{offset:a,show:this.state.showFooter,showFooter:this.showFooter,webviewID:this.props.webviewID,getSimulatorActions:this.props.getSimulatorActions}),e.createElement(w,{getSimulatorActions:this.props.getSimulatorActions,show:this.state.showAuthorizeDialog,showAuthorizeDialog:this.showAuthorizeDialog,webviewID:this.props.webviewID})))}});_exports=n}var _exports;init(),module.exports=_exports;