"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),s=require("./jssdkitem.js"),i=require("../../stroes/webviewStores.js"),r=require("../../common/jssdk/sdkNameTrans.js"),a=0,n=e.createClass({displayName:"JSSDK",getInitialState:function(){return{webviewID:0,list:{0:{logs:[],errNum:0}}}},_deleteWebviewID:function(e){delete this.state.list[e]},_changeWebviewID:function(e){this.setState({webviewID:e})},_webviewSDK:function(e,t,s,i,r){if("openUrlWithExtraWebview"===s){a++;var n=Object.assign({},this.state.list);n[a]={logs:[],errNum:0},this.setState({webviewID:a,list:n})}},_cleanWebview:function(e){var t=Object.assign({},this.state.list);t[e]={logs:[],errNum:0},this.setState({list:t})},_getJSSDKLog:function(e,t,s,i,a){var n=Object.assign({},this.state.list),o=n[e];o.logs.unshift({data:t,isHavePurview:s,sdkRes:i,sdkResExt:a}),this.setState({list:n});var l=(r.getSdkDisplayName(t.sdkName),r.formatArgs(t.sdkName,t.args),r.isSdkResErr(s,i,a.type));o.errNum;l&&o.errNum++},componentDidMount:function(){i.on("DELETE_WEBVIEW_ID",this._deleteWebviewID),i.on("WEBVIEW_SDK",this._webviewSDK),i.on("CLEAN_WEBVIEW",this._cleanWebview),i.on("GET_JASSDK_LOG",this._getJSSDKLog)},componentWillUnmount:function(){i.removeListener("DELETE_WEBVIEW_ID",this._deleteWebviewID),i.removeListener("CHANGE_WEBVIEW_ID",this._changeWebviewID),i.removeListener("WEBVIEW_SDK",this._webviewSDK),i.removeListener("CLEAN_WEBVIEW",this._cleanWebview),i.removeListener("GET_JASSDK_LOG",this._getJSSDKLog)},render:function(){var i=this,r="jssdk"===this.props.show?{}:t.displayNone,a=this.state.webviewID,n=this.state.list[a].logs,o=n.map(function(t,r){return e.createElement(s,{key:r,data:t,webviewID:i.state.webviewID})});return e.createElement("div",{className:"jssdk",style:r},e.createElement("div",{className:"jssdk-hd"},e.createElement("p",{className:"jssdk-hd-item"},"type"),e.createElement("p",{className:"jssdk-hd-item"},"sdkname"),e.createElement("p",{className:"jssdk-hd-item"},"info"),e.createElement("p",{className:"jssdk-hd-item"},e.createElement("a",{href:"javascript:;"},"清除记录"))),e.createElement("div",{className:"jssdk-bd"},o))}});_exports=n}var _exports;init(),module.exports=_exports;