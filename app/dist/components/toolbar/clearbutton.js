"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),a=require("../../actions/webviewActions.js"),c=require("../../stroes/windowStores.js"),o=require("../../actions/windowActions.js"),s=require("../../actions/wechatCacheActions.js"),l=e.createClass({displayName:"Clearbutton",getInitialState:function(){return{show:!1,showSuc:""}},handleOnClick:function(e){e.stopPropagation();var t=this.state.show;this.setState({show:!t})},buttonClick:function(e){var t=this;e.stopPropagation();var c=e.currentTarget,l=c.dataset,i=l.type,n=function(){t.setState({showSuc:i}),setTimeout(function(){t.setState({showSuc:""})},500)};"cookies"===i?a.clearWebview({cookies:!0,callBack:n}):"cache"===i?a.clearWebview({appcache:!0,cache:!0,fileSystems:!0,indexedDB:!0,localStorage:!0,webSQL:!0,callBack:n}):"historyUrl"===i?o.clearAddressHistory({callBack:n}):"wechatCache"===i&&s.clearCache({callBack:n})},_bodyClick:function(){this.setState({show:!1})},componentDidMount:function(){c.on("BODY_CLICK",this._bodyClick)},componentWillUnmount:function(){c.removeListener("BODY_CLICK",this._bodyClick)},render:function(){var a=this.state.show?{}:t.displayNone,c=this.state.show?"toolbar-clear-icon-up":"toolbar-clear-icon-down",o=this.state.showSuc;return e.createElement("div",{className:"toolbar-clear",onClick:this.handleOnClick},e.createElement("p",null,"清理缓存 ",e.createElement("i",{className:c})),e.createElement("div",{onClick:this.handleOnClick,className:"toolbar-clear-dropdown",style:a},e.createElement("div",{onClick:this.buttonClick,"data-type":"wechatCache",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除离线缓存"),e.createElement("span",{style:"wechatCache"===o?{}:t.displayNone},"已清除")),e.createElement("div",{onClick:this.buttonClick,"data-type":"cookies",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除开发者工具cookie"),e.createElement("span",{style:"cookies"===o?{}:t.displayNone},"已清除")),e.createElement("div",{onClick:this.buttonClick,"data-type":"cache",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除开发者工具缓存"),e.createElement("span",{style:"cache"===o?{}:t.displayNone},"已清除")),e.createElement("div",{onClick:this.buttonClick,"data-type":"historyUrl",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除地址栏历史记录"),e.createElement("span",{style:"historyUrl"===o?{}:t.displayNone},"已清除"))))}});_exports=l}var _exports;init(),module.exports=_exports;